/*! ========================================================================
 * FilterList: filterlist.js v2.0.0
 * ========================================================================
 * Copyright 2015, Salvatore Di Salvo (disalvo-infographiste[dot]be)
 * ======================================================================== */
(function(d){var b=function(f,e){this.$element=d(f);this.options=d.extend({},this.defaults(),e);this.structure=d.extend({},this.parts())};b.VERSION="1.1.0";b.DEFAULTS={method:"recursive",items:".items"};b.prototype.defaults=function(){return{select:b.DEFAULTS.select,method:this.$element.attr("data-method")||b.DEFAULTS.method,items:this.$element.attr("data-items")||b.DEFAULTS.items}};b.prototype.parts=function(){return{$items:d(this.options.items,this.$element)}};b.prototype.filter=function(g,h){var f=this.$element;if(h&&f.data("bs.dropdownselect")){var e=d(".items.selected",f);if(e.length){e.each(function(){if(d(this).data(g)!=h){f.bootstrapSelect("clear")}})}}this.filterItem(g,h,this.options.method);if(d(".live-filtering",f).data("liveFilter")){d(".live-filtering",f).liveFilter("initAC")}};b.prototype.filterItem=function(e,f,g){this.structure.$items.each(function(){var j=d(this).data("ref"),i=d(this).data("valid");if(j!=undefined&&i!=undefined){j=j.split(",");i=i.split(",");if(j.length==i.length){if(f!=null&&f!=""){if(j.indexOf(e)>-1){i[j.indexOf(e)]=f}else{j=j.concat([e]);i=i.concat([f])}}else{j.splice(j.indexOf(e),1);i.splice(j.indexOf(e),1)}}}else{if(f!=null&&f!=""){j=[e];i=[f]}}if(g=="recursive"){var h=true;for(var k=0;k<j.length;k++){if(i[k]!=d(this).data(j[k])){h=false}}}else{if(g=="additionnal"){var h=false;for(var k=0;k<j.length;k++){if(i[k]==d(this).data(j[k])){h=true}}}}d(this).data("ref",j.toString()).data("valid",i.toString());if(!h){d(this).addClass("disabled").hide()}else{d(this).removeClass("disabled").show()}})};function c(){var e=arguments;return this.each(function(){var h=d(this);var g=h.data("FilterList");var i=e[0];if(typeof(i)=="object"||!i){var f=typeof i=="object"&&i;h.data("FilterList",(g=new b(this,f)))}else{if(g[i]){i=g[i];e=Array.prototype.slice.call(e,1);if(e!=null||e!=undefined||e!=[]){i.apply(g,e)}}else{d.error("Method "+i+" does not exist on jQuery.FilterList");return this}}})}var a=d.fn.listFilter;d.fn.listFilter=c;d.fn.listFilter.Constructor=b;d.fn.toggle.noConflict=function(){d.fn.listFilter=a;return this}}(jQuery));